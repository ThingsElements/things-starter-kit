<dom-module id="things-label-card">
	<template>
		<style>
      :host {
        display: block;
        background-color:var(--things-whitegrey-background-color);
      }
      paper-toolbar{
        background-color:var(--things-primary-background-color);
        height:45px;
      }
      paper-toolbar::shadow #topBar{
        height:45px;
      }
      paper-toolbar .title{
        margin-left:32px !important;
        line-height:initial !important;
      }
      form{
        @apply(--things-default-padding);
        padding-bottom:5px;
        border-bottom:1px solid rgba(0,0,0,.1);
      }
      paper-fab{
        @apply(--things-search-fab);
      }
      #fullscreen-btn{
        @apply(--things-header-button);
        background:url(/images/icon-fullscreen.png) 100% 50% no-repeat;
      }			
			paper-card{
        @apply(--things-label-card-container)
      }
      paper-card:last-child{margin-right:0;}
      paper-card::shadow iron-image img{height:105px !important;}
      paper-card .card-info{
        padding:0 7px 7px 7px;
        font-size:11px;
        color:green;
      }
      paper-card::shadow .title-text{
        position:relative !important;
        border-top:1px dotted rgba(0,0,0,.09);
        padding:5px 7px 0 7px !important;
        font-size:14px !important
      }
			@media only all and (min-width: 400px)  {paper-card{width:  98% !important;}}
      @media only all and (min-width: 500px)  {paper-card{width:  47% !important;}}
      @media only all and (min-width: 800px)  {paper-card{width:  30% !important;}}
      @media only all and (min-width: 900px)  {paper-card{width:30.5% !important;}}
      @media only all and (min-width:1250px)  {paper-card{width:22.6% !important;}}
      @media only all and (min-width:1800px)  {paper-card{width:17.5% !important;}}
		</style>

    <paper-toolbar>
      <span class="title">[[menuInfo.title]]</span>
      <button id="fullscreen-btn" on-tap="toggleFullscreen">
      </button>
      <paper-tooltip for="fullscreen-btn" offset="0">
        <things-i18n-msg msgid="button.fullscreen">Full Screen</things-i18n-msg>
      </paper-tooltip>
    </paper-toolbar>

		<things-ajax
			auto
      id="label-search"
      method="GET"
      resource-url="[[searchUrl]]"
      last-response="{{lastResponse}}">
		</things-ajax>

		<template is="dom-repeat" items="[[lastResponse]]">
			<paper-card
		    heading="[[item.name]]"
		    image="[[item.thumbnail]]"
		    animated="[[animated]]"
		    animated-shadow="[[animatedShadow]]"
		    preload-image="[[preloadImage]]"
		    fade-image="[[fadeImage]]"
		    elevation="[[elevation]]">
		    <div class="card-info">
        	[[item.description]]
        </div>
			</paper-card>
		</template>

	</template>

	<script>
		Polymer({
			is: 'things-label-card',

			properties: {
				
				menuInfo:  {
					type: Object
				},

				/**
				 * Ajax 호출 URL
				 */
				searchUrl: {
					type: String,
					value: '/labels'
				},

				card: {
					type: Object
				},

				/**
				 * Read-only property used to pass down the animatedShadow value to the underlying paper-material style (since they have different names).
				 */
				animated: {
					type: Boolean,
					value: false
				},

				/**
				 * Set this to true to animate the card shadow when setting a new z value.
				 */
				animatedShadow: {
					type: Boolean,
					value: false
				},

				/**
				 * When preloadImage is true, setting fadeImage to true will cause the image to fade into place.
				 */
				fadeImage: {
					type: Boolean,
					value: false
				},

				/**
				 * When true, any change to the image url property will cause the placeholder image to be shown until the image is fully rendered.
				 */
				preloadImage: {
					type: Boolean,
					value: false
				},

				/**
				 * The z-depth of the card, from 0-5.
				 */
				elevation: {
					type: Number
				}
			}
		});
	</script>
</dom-module>