<link rel="import" href="../../../../bower_components/polymer/polymer.html">

<link rel="import" href="../../../../bower_components/things-ajax/things-ajax.html">
<link rel="import" href="../../things-content/things-resource-content.html">

<!--
용어 정의 화면 셋 

	Example:

		<things-base-terminology 
			data-route="[[screen.routing]]"
			title="[[screen.title]]"
			current-route="[[route]]"
			resource-type="[[screen.name]]"
			resource-url="[[screen.routing]]"
			detail-view="[[screen.detail_form_id]]"
			layout="fullbleed layout vertical"
			enable-detail-column>
		</things-base-terminology>
-->

<dom-module id="things-base-terminology">
	<template>
		<things-ajax 
			id="reload-cache"
			method="GET"
			resource-url="terminologies/resource_refresh">
		</things-ajax>

		<things-resource-content
			id="terminology-content"
			layout="fullbleed layout vertical"
			title="[[title]]"
			current-route="{{currentRoute}}"
			my-route="{{resourceUrl}}"
			resource-type="{{resourceType}}"
			resource-url="{{resourceUrl}}"
			grid-buttons="{{gridButtons}}"
			enable-detail-column>
		</things-resource-content>
	</template>

	<script>
		Polymer({
			is: 'things-base-terminology',

			properties: {
				/**
				 * 화면 타이틀 
				 */
				title: {
					type: String,
					value: function() {
						return Things.DataGlobal.t('menu.Terminology')
					}
				},

				/**
				 * 현재 메뉴에서 선택된 라우팅
				 */
				currentRoute: {
					type: String,
					notify : true
				},				

				/**
				 * 그리드 버튼
				 */
				gridButtons : {
					type: Array,
					value: function() {
						return [ {
                id: 'reload-btn',
                text: 'reload',
                icon: 'icons:reload'
              }, {
                id: 'export-btn',
                text: 'export',
                icon: 'icons:swap-vert'
              }, {
                id: 'add-btn',
                text: 'add',
                icon: 'icons:add'
              }, {
                id: 'delete-btn',
                text: 'delete',
                icon: 'icons:delete'
              }, {
                id: 'save-btn',
                text: 'save',
                icon: 'icons:save'
              }, {
                id: 'import-btn',
                text: 'import',
                icon: 'icons:file-upload'
              } ];
            }
					}

			},

			listeners : {
				'reload-btn-tap': 'reloadCache',
			},

			/**
			 * Reload Cache
			 *
			 * @param {Object} e
			 */
			reloadCache: function(e) {
				this.$['reload-cache'].generateRequest();
			}

		});
	</script>
</dom-module>