<link rel="import" href="../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../../bower_components/things-card-image/things-card-image-list.html">
<link rel="import" href="../../things-content/things-resource-menu-content-behavior.html">

<dom-module id="things-wip-customer-card">
	<template>
		<style>
			:host {
				display: block;
				background-color:var(--things-whitegrey-background-color);
        @apply(--layout-vertical);
			}  
    </style>

    <things-ajax 
      auto
      id="resource-meta"
      method="GET"
      resource-url="[[menuMetaUrl]]"
      last-response="{{metaData}}">
    </things-ajax>

    <things-search-form 
      id="search-form"
      title="[[menuInfo.title]]"
      form-fields="[[searchFormFields]]" 
      action-url="[[menuInfo.resource_url]]" 
      page="{{page}}"
      per-page="[[perPage]]"
      last-response="{{lastResponse}}">
    </things-search-form>  

    <!--things-ajax
      auto
      id="label-search"
      method="GET"
      resource-url="/customers"
      last-response="{{items}}">
    </things-ajax-->

 		<things-card-image-list
      class="flex"
      items="[[lastResponse.items]]"
			detail-fields="name,description,ceo,addr,zip_code,phone">
		</things-card-image-list>
	</template>

	<script>
		Polymer({
			is: 'things-wip-customer-card',

      behaviors: [
        Things.ResourceMenuContentBehavior
      ]

		});
	</script>
</dom-module>
